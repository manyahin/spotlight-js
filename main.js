var data = [[{"kind":"ObjCImplementationDecl","symbol":"NSData","children":[{"kind":"class","symbol":"dataWithContentsOfURL:","is_in_system_header":0,"args":[{"declared":"Invalid","symbol":"url","file":"(null)","size":"4","kind":"ObjCObjectPointer","is_in_system_header":0,"type":"NSURL *","line":0}],"file":"NSData.h","return":{"declared":"ObjCId","kind":"ObjCObjectPointer","is_in_system_header":0,"file":"(null)","type":"NSData *","size":"4","line":0},"line":109}]}],[{"symbol":"NSURLConnection","kind":"ObjCImplementationDecl","children":[{"symbol":"sendSynchronousRequest:returningResponse:error:","kind":"class","is_in_system_header":0,"file":"NSURLConnection.h","args":[{"declared":"Invalid","symbol":"request","file":"(null)","size":"4","kind":"ObjCObjectPointer","is_in_system_header":0,"type":"NSURLRequest *","line":0},{"declared":"Invalid","symbol":"response","file":"(null)","size":"4","kind":"Pointer","is_in_system_header":0,"type":"NSURLResponse **","line":0},{"declared":"Invalid","symbol":"error","file":"(null)","size":"4","kind":"Pointer","is_in_system_header":0,"type":"NSError **","line":0}],"line":403,"return":{"declared":"Invalid","kind":"ObjCObjectPointer","is_in_system_header":0,"file":"(null)","type":"NSData *","line":0,"size":"4"}},{"kind":"class","symbol":"sendAsynchronousRequest:queue:completionHandler:","is_in_system_header":0,"args":[{"declared":"Invalid","symbol":"request","file":"(null)","size":"4","kind":"ObjCObjectPointer","is_in_system_header":0,"type":"NSURLRequest *","line":0},{"declared":"Invalid","symbol":"queue","file":"(null)","size":"4","kind":"ObjCObjectPointer","is_in_system_header":0,"type":"NSOperationQueue *","line":0},{"declared":"Invalid","symbol":"handler","file":"(null)","size":"4","kind":"BlockPointer","is_in_system_header":0,"type":"void (^)(NSURLResponse *, NSData *, NSError *)","line":0}],"file":"/Users/sergey/rollout-workspace/Rollout-ios-SDK/MoMe/TweakableMethods/MMTweakableClassForNSURLConnection.m","return":{"declared":"Invalid","kind":"Void","is_in_system_header":0,"file":"(null)","type":"void","size":"-2","line":0},"line":452}]}],[{"symbol":"ViewController","kind":"ObjCImplementationDecl","children":[{"symbol":"viewDidLoad","file":"/Users/ekeren/playground/Test1/Test1/ViewController.m","line":17,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[],"kind":"instance"},{"symbol":"didReceiveMemoryWarning","file":"/Users/ekeren/playground/Test1/Test1/ViewController.m","line":22,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[],"kind":"instance"}]}],[{"symbol":"AppDelegate","kind":"ObjCImplementationDecl","children":[{"symbol":"application:didFinishLaunchingWithOptions:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":19,"is_in_system_header":0,"return":{"file":"/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator8.0.sdk/usr/include/objc/objc.h","line":65,"is_in_system_header":1,"size":"1","type":"signed char","kind":"SChar","declared":"Typedef"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"},{"symbol":"launchOptions","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"NSDictionary *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"},{"symbol":"applicationWillResignActive:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":29,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"},{"symbol":"applicationDidEnterBackground:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":34,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"},{"symbol":"applicationWillEnterForeground:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":39,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"},{"symbol":"applicationDidBecomeActive:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":43,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"},{"symbol":"applicationWillTerminate:","file":"/Users/ekeren/playground/Test1/Test1/AppDelegate.m","line":47,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[{"symbol":"application","file":"(null)","line":0,"is_in_system_header":0,"size":"4","type":"UIApplication *","kind":"ObjCObjectPointer","declared":"Invalid"}],"kind":"instance"}]}],[],[{"symbol":"RolloutDynamic","kind":"ObjCImplementationDecl","children":[{"symbol":"onApplicationStarts","file":"/Users/ekeren/playground/Test1/Rollout-ios-SDK/Rollout/RolloutDynamic.m","line":27,"is_in_system_header":0,"return":{"file":"(null)","line":0,"is_in_system_header":0,"size":"-2","type":"void","kind":"Void","declared":"Invalid"},"args":[],"kind":"class"}]}]]



console.log(data);

var search_value = 'app',
    result = [];

for (arr in data) {
  // Hardcode: in [[]] always only one object.
  var classSchema = data[arr][0],
      testAllChildren = false; 

  if (typeof classSchema === 'undefined') continue;

  var className = classSchema.symbol;
  if (className.indexOf( search_value ) != -1) {
    testAllChildren = true;
  }

  for (index in classSchema.children) {
    var functionSchema = classSchema.children[index],
        functionName = functionSchema.symbol;

    if (testAllChildren || functionName.indexOf( search_value ) != -1) {
      result.push( 
        { 
          className: className, 
          functionName: functionName,
          title: '[' + className + ' ' + functionName + ']',
          url: '/' + className + '/' + functionName,
        }
      );
    } 
  } 
}

console.log(result);

/*


var search_string = 'Delegate',
    result = [];

// console.log(result in data)

function searchString(data, value, parent) {
  // console.warn(data);
  if (typeof data === 'object') {
    
    if (data.symbol) {

      if (data.hasOwnProperty('children')) {
        // Object is class.


      }
      if (data.symbol.indexOf( value ) != -1) {



      
        console.warn(parent);
        console.log(data);

      }
      // console.log(data);
      // console.log(data.symbol);
    }

    for (index in data) {
      // console.error(data);
      searchString(data[index], value, data);  
    }
    return;
  } 

  // console.warn(data);
}

// searchString(data, 'return');


console.log('test');



// Search in classes names.
data.forEach(function(namespace) {

      

  namespace.forEach(function(cls) {



    // Search in functions names.
    cls.children.forEach(function(func) {



      if (func.symbol.indexOf( search_string ) != -1) {
        var obj = {
          cName: cls.symbol, 
          fName: func.symbol,
          title: '['+cls.symbol+' '+func.symbol+']',
        };
        result.push( obj );
      }
    });

    // Search in classes names.
    if (cls.symbol.indexOf( search_string ) != -1) {
      // Attach all functions names.
      cls.children.forEach(function(func) {
        var obj = {
          cName: cls.symbol, 
          fName: func.symbol,
          title: '['+cls.symbol+' '+func.symbol+']',
        };
        
        // Prevent add same objects.
        var dublicate = false;
        result.forEach(function(res) {
          if (res == obj) 
            dublicate = true; 
        })
        if (!dublicate)
          result.push( obj );
      })
    }

  })
})


// console.log(result);
*/



